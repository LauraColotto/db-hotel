GROUP BY --------------------------------------------


1-Conta gli ospiti raggruppandoli per anno di nascita
SELECT YEAR(`date_of_birth`), COUNT(id) FROM `ospiti` GROUP BY YEAR(`date_of_birth`)


2-Somma i prezzi dei pagamenti raggruppandoli per status:
SELECT SUM( `price`) FROM `pagamenti` GROUP BY `status`


3-Conta quante volte è stata prenotata ogni stanza
SELECT COUNT(`id`),`stanza_id` FROM `prenotazioni` GROUP BY `stanza_id`


4-Fai una analisi per vedere se ci sono ore in cui le prenotazioni sono più frequenti
SELECT HOUR(`created_at`) AS `ora prenotazione`, COUNT(id) FROM `prenotazioni` GROUP BY HOUR(`created_at`) ORDER BY COUNT(id) DESC


5-Quante prenotazioni ha fatto l’ospite che ha fatto più prenotazioni?
SELECT `ospite_id`, COUNT(id) FROM `prenotazioni_has_ospiti` GROUP BY `ospite_id` ORDER BY COUNT(id) DESC LIMIT 1




JOIN ------------------------------------------------


1- Come si chiamano gli ospiti che hanno fatto più di due prenotazioni?
SELECT `ospite_id`, `name`, `lastname`, COUNT("id") FROM `ospiti` JOIN `prenotazioni_has_ospiti` ON ospiti.id = prenotazioni_has_ospiti.ospite_id GROUP BY `ospite_id` HAVING COUNT("id") > 2


2- Stampare tutti gli ospiti per ogni prenotazione
SELECT `prenotazione_id`, `ospite_id`, `name`, `lastname` FROM `prenotazioni_has_ospiti` JOIN `ospiti` ON ospiti.id = prenotazioni_has_ospiti.ospite_id


